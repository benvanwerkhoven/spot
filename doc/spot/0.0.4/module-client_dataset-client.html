<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>client/dataset-client - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Aggregate.html">Aggregate</a></li><li><a href="Base.html">Base</a></li><li><a href="CategorialRule.html">CategorialRule</a><ul class='methods'><li data-type='method'><a href="CategorialRule.html#.match">match</a></li></ul></li><li><a href="CategorialTransform.html">CategorialTransform</a><ul class='methods'><li data-type='method'><a href="CategorialTransform.html#..setCategories">.setCategories</a></li><li data-type='method'><a href="CategorialTransform.html#.transform">transform</a></li></ul></li><li><a href="ContinuousTransform.html">ContinuousTransform</a><ul class='methods'><li data-type='method'><a href="ContinuousTransform.html#.inverse">inverse</a></li><li data-type='method'><a href="ContinuousTransform.html#..setExceedances">.setExceedances</a></li><li data-type='method'><a href="ContinuousTransform.html#..setPercentiles">.setPercentiles</a></li><li data-type='method'><a href="ContinuousTransform.html#.transform">transform</a></li></ul></li><li><a href="ControlPoint.html">ControlPoint</a></li><li><a href="Dataset.html">Dataset</a><ul class='methods'><li data-type='method'><a href="Dataset.html#.extendFacet">extendFacet</a></li><li data-type='method'><a href="Dataset.html#.extendFilter">extendFilter</a></li><li data-type='method'><a href="Dataset.html#.getAllData">getAllData</a></li><li data-type='method'><a href="Dataset.html#.pause">pause</a></li><li data-type='method'><a href="Dataset.html#.play">play</a></li><li data-type='method'><a href="Dataset.html#.sampleDataset">sampleDataset</a></li><li data-type='method'><a href="Dataset.html#.scanData">scanData</a></li></ul></li><li><a href="Facet.html">Facet</a></li><li><a href="Filter.html">Filter</a><ul class='methods'><li data-type='method'><a href="Filter.html#.getData">getData</a></li><li data-type='method'><a href="Filter.html#.initDataFilter">initDataFilter</a></li><li data-type='method'><a href="Filter.html#.releaseDataFilter">releaseDataFilter</a></li><li data-type='method'><a href="Filter.html#.updateDataFilter">updateDataFilter</a></li></ul></li><li><a href="Group.html">Group</a></li><li><a href="Partition.html">Partition</a><ul class='methods'><li data-type='method'><a href="Partition.html#.reset">reset</a></li><li data-type='method'><a href="Partition.html#.setGroups">setGroups</a></li></ul></li><li><a href="TimeTransform.html">TimeTransform</a><ul class='methods'><li data-type='method'><a href="TimeTransform.html#..setMinMax">.setMinMax</a></li><li data-type='method'><a href="TimeTransform.html#.transform">transform</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-client_dataset-client.html">client/dataset-client</a><ul class='methods'><li data-type='method'><a href="module-client_dataset-client.html#~initDataFilter">initDataFilter</a></li><li data-type='method'><a href="module-client_dataset-client.html#~releaseDataFilter">releaseDataFilter</a></li><li data-type='method'><a href="module-client_dataset-client.html#~sampleDataset">sampleDataset</a></li><li data-type='method'><a href="module-client_dataset-client.html#~scanData">scanData</a></li><li data-type='method'><a href="module-client_dataset-client.html#~setCategories">setCategories</a></li><li data-type='method'><a href="module-client_dataset-client.html#~setExceedances">setExceedances</a></li><li data-type='method'><a href="module-client_dataset-client.html#~setMinMax">setMinMax</a></li><li data-type='method'><a href="module-client_dataset-client.html#~setPercentiles">setPercentiles</a></li><li data-type='method'><a href="module-client_dataset-client.html#~updateDataFilter">updateDataFilter</a></li></ul></li><li><a href="module-client_dataset-server.html">client/dataset-server</a><ul class='methods'><li data-type='method'><a href="module-client_dataset-server.html#~connect">connect</a></li><li data-type='method'><a href="module-client_dataset-server.html#~initDataFilter">initDataFilter</a></li><li data-type='method'><a href="module-client_dataset-server.html#~releaseDataFilter">releaseDataFilter</a></li><li data-type='method'><a href="module-client_dataset-server.html#~scanData">scanData</a></li><li data-type='method'><a href="module-client_dataset-server.html#~setCategories">setCategories</a></li><li data-type='method'><a href="module-client_dataset-server.html#~setExceedances">setExceedances</a></li><li data-type='method'><a href="module-client_dataset-server.html#~setMinMax">setMinMax</a></li><li data-type='method'><a href="module-client_dataset-server.html#~setPercentiles">setPercentiles</a></li><li data-type='method'><a href="module-client_dataset-server.html#~updateDataFilter">updateDataFilter</a></li></ul></li><li><a href="module-client_misval.html">client/misval</a></li><li><a href="module-client_util-crossfilter.html">client/util-crossfilter</a><ul class='methods'><li data-type='method'><a href="module-client_util-crossfilter.html#~baseValueFn">baseValueFn</a></li><li data-type='method'><a href="module-client_util-crossfilter.html#~groupFn">groupFn</a></li><li data-type='method'><a href="module-client_util-crossfilter.html#~reduceFn">reduceFn</a></li><li data-type='method'><a href="module-client_util-crossfilter.html#~valueFn">valueFn</a></li></ul></li><li><a href="module-client_util-selection.html">client/util-selection</a><ul class='methods'><li data-type='method'><a href="module-client_util-selection.html#~updateSelection">updateSelection</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="Filter.html#event:newData">newData</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getResolution">getResolution</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">client/dataset-client</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>Implementation of a dataset backed by Crossfilter, ie. fully client side filtering without the need for a server or database.
Due to limitation of crossfilter with array (or data that has no natrual ordering), this will not work as expected:</p>
<ul>
<li>dimension: <code>function (d) {return [d.x, d.y, d.z]}</code></li>
<li>group: <code>function (d) {return [d.x / 10 , d.y / 10, d.z / 10]}</code></li>
</ul>
<p>Therfore, we preform grouping already in the dimension itself, and join the array to a string.
Strings have a natural ordering and thus can be used as dimension value.</p>
<ul>
<li>dimension: <code>function (d) -&gt; &quot;d.x/10|d.y/10|d.z/10&quot;</code></li>
<li>group: <code>function (d) {return d;}</code></li>
</ul></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line1">line 1</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~crossfilter"><span class="type-signature">(inner) </span>crossfilter<span class="type-signature"></span></h4>




<div class="description">
    <p>Crossfilter instance, see <a href="http://square.github.io/crossfilter/">here</a></p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line26">line 26</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="~initDataFilter"><span class="type-signature">(inner) </span>initDataFilter<span class="signature">(dataset, filter)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Initialize the data filter, and construct the getData callback function on the filter.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Filter.html">Filter</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~releaseDataFilter"><span class="type-signature">(inner) </span>releaseDataFilter<span class="signature">(dataset, filter)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>The opposite or initDataFilter, it should remove the filter and deallocate other configuration
related to the filter.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Filter.html">Filter</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line642">line 642</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~sampleDataset"><span class="type-signature">(inner) </span>sampleDataset<span class="signature">(dataset, N)</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>

    



<div class="description">
    <p>sampleDataset returns an array containing N random datums from the dataset</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>N</code></td>
            

            <td class="type">
            
                
<span class="param-type">intger</span>


            
            </td>

            

            

            <td class="description last"><p>Number of elements to pick</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line129">line 129</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array N data Objects</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~scanData"><span class="type-signature">(inner) </span>scanData<span class="signature">(dataset)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Autoconfigure a dataset:</p>
<ol>
<li>pick 10 random elements</li>
<li>create facets for their properties</li>
<li>add facets' values over the sample to the facet.description</li>
</ol>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line345">line 345</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~setCategories"><span class="type-signature">(inner) </span>setCategories<span class="signature">(dataset, facet)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>setCategories finds finds all values on an ordinal (categorial) axis
Updates the categorialTransform of the facet</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>facet</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Facet.html">Facet</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line171">line 171</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~setExceedances"><span class="type-signature">(inner) </span>setExceedances<span class="signature">(dataset, facet)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate value where exceedance probability is one in 10,20,30,40,50,
and the same for subceedance (?), ie the exceedance of the dataset where each point is replaced by its negative.
Approximate from data: 1 in 10 is larger than value at index trunc(0.1 * len(data))
Set the <code>facet.continuousTransform</code> to the approximate mapping.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>facet</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Facet.html">Facet</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line271">line 271</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~setMinMax"><span class="type-signature">(inner) </span>setMinMax<span class="signature">(dataset, facet)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>setMinMax sets the range of a continuous or time facet</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>facet</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Facet.html">Facet</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line34">line 34</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~setPercentiles"><span class="type-signature">(inner) </span>setPercentiles<span class="signature">(dataset, facet)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Calculate 100 percentiles (ie. 1,2,3,4 etc.), and initialize the <code>facet.continuousTransform</code>
to an approximate percentile mapping.
Use the recommended method from <a href="http://www.itl.nist.gov/div898/handbook/prc/section2/prc262.htm">NIST</a>
See also the discussion on <a href="https://en.wikipedia.org/wiki/Percentile">Wikipedia</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>facet</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Facet.html">Facet</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line225">line 225</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="~updateDataFilter"><span class="type-signature">(inner) </span>updateDataFilter<span class="signature">(dataset, filter)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Change the filter parameters for an initialized filter</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataset</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Dataset.html">Dataset</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Filter.html">Filter</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="dataset_client.js.html">dataset/client.js</a>, <a href="dataset_client.js.html#line656">line 656</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Tue Nov 15 2016 14:57:32 GMT+0100 (CET) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>